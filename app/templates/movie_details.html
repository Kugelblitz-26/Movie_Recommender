<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">



    <title>Movie Details</title>
</head>

<body>
    <h1>Movie Details</h1>
    <div>
        <div class="movie-details">

            <h2>{{ movie.title }}</h2>
            <hr>
            <p><span class="attribute-label">Overview:</span> {{ movie.overview }}</p>
            <hr>
            <!-- Other content -->
            <div class="voting">
                <h2>Average Rating</h2>
                <div class="star-rating">
                    <div class="average-vote">
                        {% set average_vote_int = movie.vote_average|round|int %}
                        {% set average_vote_decimal = movie.vote_average - average_vote_int %}
                        {% for _ in range(average_vote_int) %}
                        <i class="fas fa-star"></i>
                        {% endfor %}
                        {% if average_vote_decimal >= 0.5 %}
                        <i class="fas fa-star-half-alt"></i>
                        {% endif %}
                        {% for _ in range(5 - average_vote_int - (1 if average_vote_decimal >= 0.5 else 0)) %}
                        <i class="far fa-star"></i>
                        {% endfor %}
                    </div>
                </div>
                <p class="rating-number">{{ movie.vote_average }}</p> <!-- Display the rating as a number -->
            </div>
            
            <hr> <!-- Add a horizontal line -->
            <!-- Other content -->



            <p><span class="attribute-label">Genre:</span> {{ movie.genres }}</p>
            <hr>
            <p><span class="attribute-label">Cast:</span> {{ movie.cast }}</p>
            <hr>
            <p><span class="attribute-label">Director:</span> {{ movie.director }}</p>
            <hr>
            <div class="popularity-meter">
                <h3>Popularity</h3>
                <div class="meter" style="width: {{ movie.popularity }}%"></div>
                <p>{{ movie.popularity }}%</p>
            </div>
        </hr>
            <p><span class="attribute-label">Release_date: </span> {{ movie.release_date }}</p>

            <div class="link-to-movie">
                <a href="{{ movie.homepage }}" target="_blank">Visit Movie Page</a>
            </div>

        </div>
</body>

</html>